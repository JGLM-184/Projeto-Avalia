<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title th:text="${professor.id} != null ? 'Editar Usuário' : 'Criar Novo Usuário'"></title>

	<link rel="stylesheet" th:href="@{/css/style.css}">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="coordinator-layout">
<div th:replace="~{navbar :: navbar}"></div>

<main class="main-content">
	<div class="card wide-form">

		<form class="user-form"
		th:action="${idProfessor != null} ? @{'/users/editar/' + ${idProfessor}} : @{/users/cadastrar}"
			  method="post"
			  th:object="${professor}">

			  <h2 th:text="${idProfessor != null} ? 'Editar Usuário' : 'Criar Novo Usuário'"></h2>

			<div class="form-group">
				<input type="text" th:field="*{nome}" class="form-input" placeholder=" " required>
				<label>Nome</label>
			</div>

			<div class="form-group">
				<input type="email" th:field="*{email}" class="form-input" placeholder=" " required>
				<label>Email</label>
			</div>

			<div class="form-group">
				<input type="text" th:field="*{re}" class="form-input" placeholder=" " required>
				<label>RE</label>
			</div>

			<!-- Senha só aparece se for cadastro -->
			<div class="form-group" th:if="${idProfessor == null}">
			    <input type="password" th:field="*{senha}" class="form-input" placeholder=" " required>
			    <label>Senha</label>
			</div>

			<div class="form-group checkbox-wrapper">
				<input type="checkbox" th:field="*{coordenador}">
				<label>Coordenador</label>
			</div>

			<div class="form-group checkbox-wrapper">
				<input type="checkbox" th:field="*{ativo}">
				<label>Ativo</label>
			</div>

			<div class="form-group">
				<label>Disciplinas</label>
				<select multiple th:field="*{idsDisciplinas}" class="form-input">
					<option th:each="disc : ${listaDisciplinas}" th:value="${disc.id}" th:text="${disc.nome}"></option>
				</select>
			</div>

			<div class="form-group">
				<label>Cursos</label>
				<select multiple th:field="*{idsCursos}" class="form-input">
					<option th:each="curso : ${listaCursos}" th:value="${curso.id}" th:text="${curso.nome}"></option>
				</select>
			</div>

			<div class="form-actions">
			    <a th:href="@{/users/painel}" class="btn btn-secondary">Cancelar</a>
			    <button type="submit" class="btn btn-primary"
			            th:text="${idProfessor != null} ? 'Salvar Alterações' : 'Criar Usuário'"></button>
			</div>

		</form>

	</div>
</main>
</body>
</html>
