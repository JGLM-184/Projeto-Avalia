<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Questão</title>
    <link rel="stylesheet" th:href="@{/style.css}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="login-page">
	
	<div class="card login-card">
	        <img class="user-icon" th:src="@{/imagens/Avatar.png}" alt="Avatar">
			
	        <h2><b>Login</b></h2>
			
	        <!-- BLOCOS DE MENSAGEM DO SPRING SECURITY -->
	        <div th:if="${param.error}" class="alert alert-danger mt-3" role="alert">
	            Email ou senha inválidos.
	        </div>
	        <div th:if="${param.logout}" class="alert alert-success mt-3" role="alert">
	            Você foi desconectado com sucesso.
	        </div>
	        <div th:if="${successMessage}" class="alert alert-success mt-3" role="alert">
	            <span th:text="${successMessage}"></span>
	        </div>
	        
	        <form method="POST" th:action="@{/login}">
	            
	            <!-- NÃO MEXER 	NÃO MEXER	NÃO MEXER 	CSRF TOKEN: Descomente esta linha SÓ QUANDO remover .csrf().disable() no SecurityConfig! -->
	            <!-- <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /> -->

	            <div class="form-group">
	                <input type="text" id="usuario" name="username" class="form-input" value="" required> 
	                <label for="usuario">Usuário</label>
	            </div>
				<div class="form-group password-group">
				    <input type="password" id="senha" name="password" class="form-input" value="" required>
				    <label for="senha">Senha</label>
				    <button type="button" class="material-icons password-toggle">visibility_off</button>
				</div>
	            <button type="submit" class="btn btn-primary">Entrar</button>
	        </form>

        <a href="#" class="link-forgot">Esqueceu a senha?</a>

        <div class="divider">Ou</div>

        <p>Aluno e quer fazer simulado?</p>
        <a href="#" class="link-simulado">Clique aqui</a>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const passwordField = document.getElementById('senha');
            const toggleButton = document.querySelector('.password-toggle');

            if (toggleButton) {
                toggleButton.addEventListener('click', () => {
                    const isPassword = passwordField.getAttribute('type') === 'password';
                    passwordField.setAttribute('type', isPassword ? 'text' : 'password');

                    toggleButton.textContent = isPassword ? 'visibility' : 'visibility_off';
                });
            }
        });
    </script>

</body>
</html>